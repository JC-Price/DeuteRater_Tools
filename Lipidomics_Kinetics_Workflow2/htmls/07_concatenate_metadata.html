<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Concatenation of Standardized ID files</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      padding: 24px;
      background: #f4f8fb;
      color: #222;
      line-height: 1.6;
    }
    h1 {
      color: #126782;
      font-size: 1.9rem;
      margin-bottom: 16px;
    }
    h2 {
      color: #1f618d;
      margin-top: 24px;
      margin-bottom: 8px;
    }
    .box {
      background: #ffffff;
      border-left: 6px solid #126782;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      padding: 18px 22px;
      margin: 18px 0;
      border-radius: 8px;
    }
    code {
      background: #eef3f7;
      padding: 2px 5px;
      border-radius: 4px;
      font-size: 0.95rem;
    }
    em { color: #444; }
    .hint {
      color: #666;
      font-size: 0.9rem;
      margin-top: 6px;
    }
    .hidden-run { display: none; }
  </style>
</head>
<body>

<h1>Concatenation of Standardized ID files</h1>

<div class="box">
  <h2>Purpose of this step</h2>
  <p>
    This step merges our standardized ID files
    into a single dataset. If you have been processing both polarities in parallel, concatenation is necessary
    before constructing the <em>wide metabolic metric table</em> used for kinetic and statistical analysis.
  </p>

  <p>
    The goal is to produce a unified table linking each lipid species to its kinetic and abundance metrics —
    including <em>n<sub>L</sub></em> (incorporable deuterium count), <em>A<sub>syn</sub></em> (fraction of endogenous synthesis),
    <em>k</em> (turnover rate constant), and measured abundances. This integration step enables per-condition comparisons
    and downstream statistical modeling.
  </p>
</div>

<div class="box">
  <h2>What it does</h2>
  <p>
    The concatenation process combines your standardized <strong>positive-mode</strong> and <strong>negative-mode</strong>
    guidefiles into a single, polarity-aware dataframe. Each entry is preserved along with a
    <code>polarity</code> column, allowing later steps to filter or compare by ionization mode as needed.
  </p>

  <p>
    The helper tool will:
  </p>
  <ol>
    <li>Prompt you to select your <strong>negative-mode</strong> file first, followed by the <strong>positive-mode</strong> file.</li>
    <li>Append a <code>polarity</code> column to each file.</li>
    <li>Stack the rows and create one combined, standardized dataframe.</li>
    <li>Prompt you to select a save location for the concatenated file.</li>
  </ol>

  <p class="hint">
    Ensure the input files are the standardized guidefiles produced after polarity syntax unification.
    These files contain consistent lipid identifiers, enabling accurate cross-polarity merging.
  </p>
</div>

<div class="box">
  <h2>Outputs</h2>
  <ul>
    <li><strong>Concatenated ID file</strong> — a single table containing all lipid entries from both modes.</li>
    <li><strong>Polarity column</strong> (<code>positive</code> or <code>negative</code>) added for filtering and quality control.</li>
    <li>Ready input for the next step: <em>wide metabolic metric generation</em>, where kinetic parameters
        (<em>n<sub>L</sub></em>, <em>A<sub>syn</sub></em>, <em>k</em>, and abundance) will be merged into one comprehensive dataset.</li>
  </ul>
</div>

<a href="run:Concatenate_positive_and_negative\Concatenate_positive_and_negative.cmd" data-label="Concatenate Standardized ID files">
  <div class="hidden-run">Concatenate Standardized ID files</div>
</a>

<p class="hint">If Concatenate_positive_and_negative\Concatenate_positive_and_negative.cmd (or ish) exists in the working directory, the “Concatenate Standardized ID files” button will appear below and execute it.</p>

<p class="hint">
  The helper accepts tabular files (CSV, TSV, or Excel) exported from your standardized guidefiles
  and will output a single concatenated table containing both polarities and a <code>polarity</code> indicator column.
</p>

</body>
</html>
